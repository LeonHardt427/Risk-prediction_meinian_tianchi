Readme
===

———————————————————————————————————————————————————— 
# 美年健康AI大赛—双高疾病风险预测文件汇总 
队伍名：中药世家 
组员：    姓名 | 手机 |    E-mail 
成绩： *0.0291* 
排名： *60*  
 ————————————————————————————————————————————————————
## 1、prject结构说明
**project**
|--README.md
|--version.txt
|--data
|--code
&emsp;|-- main.py *(主程序）*
&emsp;|-- evalerror.py *（用于模型训练的损失函数文件）*
&emsp;|-- error0.csv *（训练第0列数据（收缩压）模型时需去除的病人编号标签）*
&emsp;|-- error1.csv *（训练第1列数据（舒张压）模型时需去除的病人编号标签）*
&emsp;|-- error2.csv *（训练第2列数据（血清甘油三酯）模型时需去除的病人编号标签）*
&emsp;|-- error3.csv *（训练第3列数据（血清高密度脂蛋白）模型时需去除的病人编号标签）*
&emsp;|-- error4.csv *（训练第4列数据（血清低密度脂蛋白）模型时需去除的病人编号标签）*
|--submit
&emsp;|-- submit_Ymd_HMS.csv *（提交结果文件）*

## 2、Main函数逻辑（注释分割与main函数中分割对应）
|----------preprocessing----------
"""
将项目给予的源数据转化成为DataFrame，index为病人的id，columns为检测项目编号，对于空缺的数据使用NaN填充。
将part1的全部以及part2的前625列拼成一个DataFrame，作为预测的原始数据df_whole_new。
"""
|----------feature to  Integer----------
"""
将原始数据逐列进行转换，利用关键词将文字信息转化为可以用于分析的数值信息，直接在df_whole_new上进行变化。
"""
|----------train/test sets  prepare----------
"""
根据所给训练集与测试集的vid将病人特征从df_whole_new中提取出来，然后将数值型的数据进行保留，将无法识别的文字信息删除，用NaN填充。最后得到全为数值型的训练特征集df_train_use，训练标签集df_y_trains，以及测试特征集df_test_use。
针对测试集分析，发现有许多异常数据，对其进行手动的筛选。因为一共有5种标签需要预测，因此针对每一种标签，统计出需要排除的病人vid，保存在了error0--error4共5个文件中。将分别将训练特征集以及训练标签集中对应的异常病人数据剔除，最后得到5组训练特征标签数据集（train0，label0）、...、（train4，label4）
"""
|----------prediction(ligtbgm)----------
利用之前得到的五组训练预测数据集，分别对对应的五个标签进行预测。选用lightbgm作为预测方法。得到预测结果prediction。
|----------submit prepare----------
将prediction整合成为系统要求的csv格式，进行保存上传。
## 3、重要说明
1、输入为官方解压后的文件
2、程序运行根目录为 "project/code/"
2、error0-error4这五个文件是手动从异常数据中筛选出来的，都是病人vid，保存在code文件中。